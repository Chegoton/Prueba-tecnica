<div class="title">
  <h1>Prueba Tecnica</h1>
</div>

<div class="container">
  <!-- Tabla de directores -->
  <div class="mat-elevation-z8">
    <h2>Directors</h2>
    <mat-form-field>
      <mat-label>Filter</mat-label>
      <input matInput placeholder="Search" (keyup)="applyFilter($event)" #input autocomplete="off">
    </mat-form-field>
    <table mat-table [dataSource]="dataSourceDirector" matSort>
      <!-- Definiciones de columna para la tabla de directores -->
      <ng-container matColumnDef="pkDirector" style="display: none;">
        <td mat-cell *matCellDef="let element"> {{element.pkDirector}} </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <ng-container matColumnDef="age">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Age </th>
        <td mat-cell *matCellDef="let element"> {{element.age}} </td>
      </ng-container>
  
      <ng-container matColumnDef="active">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Active </th>
        <td mat-cell *matCellDef="let element"> 
          <mat-icon *ngIf="element.active; else notActive">check_circle</mat-icon>
          <ng-template #notActive><mat-icon>cancel</mat-icon></ng-template>
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> 
          <button mat-raised-button color="primary" class="btnAdd" (click)="openAddModalDirector()">Add</button>
        </th>
        <td mat-cell *matCellDef="let element"> 
          <mat-icon fontIcon="edit" class="edit" matTooltip="Edit" (click)="openEditModalDirector(element)"></mat-icon>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumnsDirector"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsDirector;"></tr>
    </table>
  
    <mat-paginator #directorPaginator [pageSizeOptions]="[5, 10, 20]"
                   showFirstLastButtons
                   aria-label="Select page of directors">
    </mat-paginator>
  </div>
</div>

<div style="margin-top: 30px;"></div>

<div class="container">
  <!-- Tabla de películas -->
  <div class="mat-elevation-z8">
    <h2>Movies</h2>
    <mat-form-field>
      <mat-label>Filter</mat-label>
      <input matInput placeholder="Search" (keyup)="applyFilterMovies($event)" #input autocomplete="off">
    </mat-form-field>
    <table mat-table [dataSource]="dataSourceMovies" matSort>
      <!-- Definiciones de columna para la tabla de películas -->
      <ng-container matColumnDef="pkMovies" style="display: none;">
        <td mat-cell *matCellDef="let element"> {{element.pkMovies}} </td>
      </ng-container>

      <ng-container matColumnDef="fkDirector" style="display: none;">
        <td mat-cell *matCellDef="let element"> {{element.fkDirector}} </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <ng-container matColumnDef="gender">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Gender </th>
        <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
      </ng-container>
  
      <ng-container matColumnDef="directorName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> DirectorName </th>
        <td mat-cell *matCellDef="let element"> {{element.directorName}} </td>
      </ng-container>
      
      <ng-container matColumnDef="duration">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Duration </th>
        <td mat-cell *matCellDef="let element"> {{element.duration}} </td>
      </ng-container>

      <ng-container matColumnDef="available">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Available </th>
        <td mat-cell *matCellDef="let element"> 
          <mat-icon *ngIf="element.available; else notAvailable">check_circle</mat-icon>
          <ng-template #notAvailable><mat-icon>cancel</mat-icon></ng-template>
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> 
          <button mat-raised-button color="primary" class="btnAdd" (click)="openAddModalMovie()">Add</button>
        </th>
        <td mat-cell *matCellDef="let element"> 
          <mat-icon fontIcon="edit" class="edit" matTooltip="Edit" (click)="openEditModalMovie(element)"></mat-icon>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumnsMovies"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsMovies;"></tr>
    </table>
  
    <mat-paginator #moviesPaginator [pageSizeOptions]="[5, 10, 20]"
                   showFirstLastButtons
                   aria-label="Select page of movies">
    </mat-paginator>
  </div>
</div>


